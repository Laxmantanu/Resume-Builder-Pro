<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resume Builder Pro - Fixed PDF Download</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #4a6cf7;
            --secondary-color: #6f42c1;
            --dark-color: #1d2144;
            --light-color: #f8f9fa;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f8ff;
            scroll-behavior: smooth;
        }
        
        header {
            background-color: white;
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .navbar-brand {
            font-weight: 700;
            color: var(--primary-color);
            font-size: 1.8rem;
        }
        
        .hero {
            background: linear-gradient(135deg, #4a6cf7 0%, #6f42c1 100%);
            color: white;
            padding: 100px 0;
            text-align: center;
        }
        
        .hero h1 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 20px;
        }
        
        .btn-primary {
            background-color: var(--primary-color);
            border: none;
            padding: 12px 30px;
            font-weight: 600;
            border-radius: 50px;
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            background-color: #3a5cd8;
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        
        section {
            padding: 80px 0;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 50px;
        }
        
        .builder-container, .preview-container {
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 30px rgba(0, 0, 0, 0.1);
            padding: 30px;
            margin-bottom: 30px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .resume-modern {
            font-family: 'Poppins', sans-serif;
            padding: 30px;
            background: white;
            color: #333;
        }
        
        .resume-modern .header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 3px solid var(--primary-color);
            padding-bottom: 20px;
        }
        
        .resume-modern .name {
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--dark-color);
            margin-bottom: 5px;
        }
        
        .resume-modern .contact-info {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 10px;
        }
        
        .resume-modern .section {
            margin-bottom: 25px;
        }
        
        .resume-modern .section-title {
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--primary-color);
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: 5px;
            margin-bottom: 15px;
            text-align: left;
        }
        
        .ad-space {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            margin: 20px 0;
            border: 2px dashed #dee2e6;
        }
        
        footer {
            background: var(--dark-color);
            color: white;
            padding: 60px 0 30px;
        }
        
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.2rem;
            }
            
            .section-title h2 {
                font-size: 2rem;
            }
        }

        #pdf-success {
            display: none;
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--success-color);
            color: white;
            padding: 15px 20px;
            border-radius: 5px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 10000;
        }
    </style>
</head>
<body>
    <header>
        <nav class="navbar navbar-expand-lg navbar-light bg-white">
            <div class="container">
                <a class="navbar-brand" href="#home">ResumeBuilder<span class="text-primary">Pro</span></a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item"><a class="nav-link" href="#home">Home</a></li>
                        <li class="nav-item"><a class="nav-link" href="#builder">Build Resume</a></li>
                        <li class="nav-item"><a class="nav-link" href="#blog">Blog</a></li>
                        <li class="nav-item"><a class="nav-link" href="#about">About Us</a></li>
                        <li class="nav-item"><a class="nav-link" href="#contact">Contact</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <section class="hero" id="home">
        <div class="container">
            <h1>Build Your Professional Resume in Minutes</h1>
            <p>Create a job-winning resume with our easy-to-use resume builder. Choose from professional templates and download your resume as PDF instantly.</p>
            <a href="#builder" class="btn btn-light btn-lg">Get Started <i class="fas fa-arrow-right ms-2"></i></a>
        </div>
    </section>

    <div class="container mt-4">
        <div class="ad-space">
            <h5>Ad Space</h5>
            <p>Google AdSense or other ads can be placed here</p>
        </div>
    </div>

    <section id="builder" class="bg-light">
        <div class="container">
            <div class="section-title">
                <h2>Create Your Professional Resume</h2>
                <p>Fill in your details and see your resume update in real-time</p>
            </div>
            
            <div class="row">
                <div class="col-lg-6">
                    <div class="builder-container">
                        <div class="template-select">
                            <label for="templateSelect" class="form-label">Choose Template:</label>
                            <select class="form-select" id="templateSelect">
                                <option value="modern">Modern Style</option>
                                <option value="classic">Classic Style</option>
                            </select>
                        </div>
                        
                        <form id="resumeForm">
                            <div class="form-group">
                                <label for="fullName" class="form-label">Full Name</label>
                                <input type="text" class="form-control" id="fullName" placeholder="John Doe">
                            </div>
                            
                            <div class="form-group">
                                <label for="email" class="form-label">Email</label>
                                <input type="email" class="form-control" id="email" placeholder="john.doe@example.com">
                            </div>
                            
                            <div class="form-group">
                                <label for="phone" class="form-label">Phone</label>
                                <input type="tel" class="form-control" id="phone" placeholder="+1 (555) 123-4567">
                            </div>
                            
                            <div class="form-group">
                                <label for="address" class="form-label">Address</label>
                                <input type="text" class="form-control" id="address" placeholder="New York, NY">
                            </div>
                            
                            <div class="form-group">
                                <label for="education" class="form-label">Education</label>
                                <textarea class="form-control" id="education" rows="3" placeholder="BS in Computer Science, University of Example (2015-2019)"></textarea>
                            </div>
                            
                            <div class="form-group">
                                <label for="experience" class="form-label">Work Experience</label>
                                <textarea class="form-control" id="experience" rows="3" placeholder="Software Engineer, ABC Company (2019-Present)"></textarea>
                            </div>
                            
                            <div class="form-group">
                                <label for="skills" class="form-label">Skills</label>
                                <textarea class="form-control" id="skills" rows="2" placeholder="JavaScript, React, Node.js, Python"></textarea>
                            </div>
                            
                            <div class="form-group">
                                <label for="projects" class="form-label">Projects</label>
                                <textarea class="form-control" id="projects" rows="2" placeholder="E-commerce website, Mobile app development"></textarea>
                            </div>
                        </form>
                    </div>
                </div>
                
                <div class="col-lg-6">
                    <div class="preview-container">
                        <h3 class="mb-4">Resume Preview</h3>
                        <div id="resumePreview">
                            <div class="resume-modern">
                                <div class="header">
                                    <div class="name">John Doe</div>
                                    <div class="contact-info">
                                        <span>john.doe@example.com</span>
                                        <span>+1 (555) 123-4567</span>
                                        <span>New York, NY</span>
                                    </div>
                                </div>
                                
                                <div class="section">
                                    <div class="section-title">Education</div>
                                    <div class="education-item">
                                        BS in Computer Science, University of Example (2015-2019)
                                    </div>
                                </div>
                                
                                <div class="section">
                                    <div class="section-title">Experience</div>
                                    <div class="experience-item">
                                        Software Engineer, ABC Company (2019-Present)
                                    </div>
                                </div>
                                
                                <div class="section">
                                    <div class="section-title">Skills</div>
                                    <div class="skills">
                                        JavaScript, React, Node.js, Python
                                    </div>
                                </div>
                                
                                <div class="section">
                                    <div class="section-title">Projects</div>
                                    <div class="projects">
                                        E-commerce website, Mobile app development
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mt-4 text-center">
                            <button class="btn btn-primary" id="downloadBtn">
                                <i class="fas fa-download me-2"></i> Download as PDF
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div id="pdf-success">
        <i class="fas fa-check-circle me-2"></i> PDF successfully generated!
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script>
        // Initialize the resume preview with form values
        function updateResumePreview() {
            const template = document.getElementById('templateSelect').value;
            const name = document.getElementById('fullName').value || 'John Doe';
            const email = document.getElementById('email').value || 'john.doe@example.com';
            const phone = document.getElementById('phone').value || '+1 (555) 123-4567';
            const address = document.getElementById('address').value || 'New York, NY';
            const education = document.getElementById('education').value || 'BS in Computer Science, University of Example (2015-2019)';
            const experience = document.getElementById('experience').value || 'Software Engineer, ABC Company (2019-Present)';
            const skills = document.getElementById('skills').value || 'JavaScript, React, Node.js, Python';
            const projects = document.getElementById('projects').value || 'E-commerce website, Mobile app development';
            
            let resumeHTML = '';
            
            if (template === 'modern') {
                resumeHTML = `
                    <div class="resume-modern">
                        <div class="header">
                            <div class="name">${name}</div>
                            <div class="contact-info">
                                <span>${email}</span>
                                <span>${phone}</span>
                                <span>${address}</span>
                            </div>
                        </div>
                        
                        <div class="section">
                            <div class="section-title">Education</div>
                            <div class="education-item">${education.replace(/\n/g, '<br>')}</div>
                        </div>
                        
                        <div class="section">
                            <div class="section-title">Experience</div>
                            <div class="experience-item">${experience.replace(/\n/g, '<br>')}</div>
                        </div>
                        
                        <div class="section">
                            <div class="section-title">Skills</div>
                            <div class="skills">${skills.replace(/\n/g, '<br>')}</div>
                        </div>
                        
                        <div class="section">
                            <div class="section-title">Projects</div>
                            <div class="projects">${projects.replace(/\n/g, '<br>')}</div>
                        </div>
                    </div>
                `;
            } else {
                resumeHTML = `
                    <div class="resume-classic">
                        <div class="header">
                            <div class="name">${name}</div>
                            <div class="contact-info">
                                <span>${email}</span>
                                <span>${phone}</span>
                                <span>${address}</span>
                            </div>
                        </div>
                        
                        <div class="section">
                            <div class="section-title">Education</div>
                            <div class="education-item">${education.replace(/\n/g, '<br>')}</div>
                        </div>
                        
                        <div class="section">
                            <div class="section-title">Experience</div>
                            <div class="experience-item">${experience.replace(/\n/g, '<br>')}</div>
                        </div>
                        
                        <div class="section">
                            <div class="section-title">Skills</div>
                            <div class="skills">${skills.replace(/\n/g, '<br>')}</div>
                        </div>
                        
                        <div class="section">
                            <div class="section-title">Projects</div>
                            <div class="projects">${projects.replace(/\n/g, '<br>')}</div>
                        </div>
                    </div>
                `;
            }
            
            document.getElementById('resumePreview').innerHTML = resumeHTML;
        }
        
        // Download as PDF function - FIXED VERSION
        function downloadPDF() {
            // Show loading state
            const originalText = document.getElementById('downloadBtn').innerHTML;
            document.getElementById('downloadBtn').innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i> Generating PDF...';
            document.getElementById('downloadBtn').disabled = true;
            
            try {
                // Get the HTML content of the resume preview
                const resumeContent = document.getElementById('resumePreview').innerHTML;
                
                // Create a new window with the resume content
                const printWindow = window.open('', '_blank');
                printWindow.document.write(`
                    <!DOCTYPE html>
                    <html>
                    <head>
                        <title>My Resume</title>
                        <style>
                            body {
                                font-family: 'Poppins', sans-serif;
                                line-height: 1.6;
                                color: #333;
                                padding: 20px;
                            }
                            .resume-modern {
                                font-family: 'Poppins', sans-serif;
                                padding: 30px;
                                background: white;
                                color: #333;
                            }
                            .resume-modern .header {
                                text-align: center;
                                margin-bottom: 30px;
                                border-bottom: 3px solid #4a6cf7;
                                padding-bottom: 20px;
                            }
                            .resume-modern .name {
                                font-size: 2.2rem;
                                font-weight: 700;
                                color: #1d2144;
                                margin-bottom: 5px;
                            }
                            .resume-modern .contact-info {
                                display: flex;
                                justify-content: center;
                                flex-wrap: wrap;
                                gap: 20px;
                                margin-top: 10px;
                            }
                            .resume-modern .section {
                                margin-bottom: 25px;
                            }
                            .resume-modern .section-title {
                                font-size: 1.4rem;
                                font-weight: 600;
                                color: #4a6cf7;
                                border-bottom: 2px solid #e2e8f0;
                                padding-bottom: 5px;
                                margin-bottom: 15px;
                                text-align: left;
                            }
                        </style>
                    </head>
                    <body>
                        ${resumeContent}
                        <script>
                            // Print the document as PDF when loaded
                            window.onload = function() {
                                window.print();
                                setTimeout(function() {
                                    window.close();
                                }, 1000);
                            };
                        <\/script>
                    </body>
                    </html>
                `);
                printWindow.document.close();
                
                // Show success message
                const successMsg = document.getElementById('pdf-success');
                successMsg.style.display = 'block';
                successMsg.style.backgroundColor = '#28a745';
                
                setTimeout(() => {
                    successMsg.style.display = 'none';
                }, 3000);
                
            } catch (error) {
                console.error('Error generating PDF:', error);
                
                // Show error message
                const successMsg = document.getElementById('pdf-success');
                successMsg.innerHTML = '<i class="fas fa-exclamation-circle me-2"></i> Error generating PDF. Please try again.';
                successMsg.style.display = 'block';
                successMsg.style.backgroundColor = '#dc3545';
                
                setTimeout(() => {
                    successMsg.style.display = 'none';
                }, 3000);
            } finally {
                // Restore button state
                document.getElementById('downloadBtn').innerHTML = originalText;
                document.getElementById('downloadBtn').disabled = false;
            }
        }
        
        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Set up form event listeners
            const formInputs = document.querySelectorAll('#resumeForm input, #resumeForm textarea');
            formInputs.forEach(input => {
                input.addEventListener('input', updateResumePreview);
            });
            
            document.getElementById('templateSelect').addEventListener('change', updateResumePreview);
            document.getElementById('downloadBtn').addEventListener('click', downloadPDF);
            
            // Initialize the resume preview
            updateResumePreview();
        });
    </script>
</body>
</html>
